# -------------------
# Server Configuration
# -------------------
server.port=8081
spring.profiles.active=${SPRING_PROFILES_ACTIVE}

# -------------------
# Database Configuration (Supabase PostgreSQL)
# -------------------
spring.datasource.url=jdbc:postgresql://aws-0-ap-southeast-1.pooler.supabase.com:5432/postgres
spring.datasource.username=postgres.hglcldsqunqyvjvddwbn
spring.datasource.password=Bitlab@Application123

# (Optional backup DB config)
# spring.datasource.url=jdbc:postgresql://aws-0-ap-south-1.pooler.supabase.com:5432/postgres
# spring.datasource.username=postgres.mwnkpvddxacxmdsasfuq
# spring.datasource.password=bitLabs

# -------------------
# JPA / Hibernate
# -------------------
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# -------------------
# HikariCP Connection Pool (optimized for Supabase)
# -------------------
spring.datasource.hikari.pool-name=HikariCP
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.leak-detection-threshold=20000

# -------------------
# Email Configuration (AWS SES)
# -------------------
spring.mail.host=email-smtp.ap-south-1.amazonaws.com
spring.mail.port=587
spring.mail.username=AKIAWDMD3L7MZDJHN77H
spring.mail.password=BIixP9Ox5CmGdWiKd9vxs0Uxzj83c3VAqsu8Alu700BQ
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.debug=true

# -------------------
# File Upload Settings
# -------------------
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=15MB

# -------------------
# AWS S3 Configuration
# -------------------
cloud.aws.credentials.access-key=${AWS_ACCESS_KEY_ID}
cloud.aws.credentials.secret-key=${AWS_SECRET_ACCESS_KEY}
cloud.aws.region.static=${AWS_DEFAULT_REGION}
cloud.aws.stack.auto=false
application.bucket.name=${AWS_BUCKET_NAME}

# -------------------
# Spring Misc
# -------------------
spring.main.allow-circular-references=true
